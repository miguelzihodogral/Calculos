<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Fórmula</title>
    <!-- Incluindo Tailwind CSS para estilização moderna e responsiva -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Configuração de fonte personalizada */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f9; /* Um fundo suave */
        }
        /* Estilos personalizados para o botão */
        .btn-primary {
            transition: all 0.2s ease;
            box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);
        }
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 7px 14px rgba(50, 50, 93, 0.1), 0 3px 6px rgba(0, 0, 0, 0.08);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-md bg-white p-8 md:p-10 rounded-xl shadow-2xl border border-gray-100">
        
        <!-- Título Principal -->
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-2">Aplicativo de Cálculo</h1>
        
        <!-- Descrição da Fórmula -->
        <p class="text-center text-lg text-indigo-600 mb-8 font-semibold">
            Sua fórmula: <span class="font-mono text-xl">(Número × 3) + 40000</span>
        </p>

        <!-- Campo de Entrada -->
        <div class="mb-6">
            <label for="inputNumber" class="block text-sm font-medium text-gray-700 mb-2">
                Insira o Número Base:
            </label>
            <input 
                type="number" 
                id="inputNumber" 
                placeholder="Ex: 5000" 
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-lg shadow-sm"
            >
        </div>

        <!-- Botão de Ação -->
        <button 
            onclick="calculateFormula()" 
            class="btn-primary w-full py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-opacity-50 text-lg"
        >
            Calcular Resultado
        </button>

        <!-- Área de Resultado -->
        <div id="resultContainer" class="mt-8 pt-6 border-t border-indigo-200 hidden">
            <h2 class="text-xl font-semibold text-gray-700 mb-3">Resultado do Cálculo:</h2>
            <!-- Note que o texto 'R$' foi removido do campo de resultado -->
            <p id="resultDisplay" class="text-4xl font-extrabold text-indigo-700 text-center bg-indigo-50 p-4 rounded-lg shadow-inner"></p>
        </div>

        <!-- Área de Mensagens de Erro/Alerta -->
        <div id="messageBox" class="mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg hidden" role="alert">
            <p id="messageText"></p>
        </div>

    </div>

    <script>
        // Função principal para realizar o cálculo
        function calculateFormula() {
            const inputElement = document.getElementById('inputNumber');
            const resultContainer = document.getElementById('resultContainer');
            const resultDisplay = document.getElementById('resultDisplay');
            const messageBox = document.getElementById('messageBox');
            const messageText = document.getElementById('messageText');

            // Limpar mensagens e resultados anteriores
            messageBox.classList.add('hidden');
            resultContainer.classList.add('hidden');
            
            // 1. Obter o valor de entrada e garantir que é um número
            let numberValue = parseFloat(inputElement.value);

            // 2. Validação da entrada
            if (isNaN(numberValue) || inputElement.value.trim() === "") {
                messageText.textContent = "Por favor, insira um valor numérico válido para calcular.";
                messageBox.classList.remove('hidden');
                return;
            }
            
            // 3. Realizar o cálculo: (numero * 3) + 40000
            const result = (numberValue * 3) + 40000;
            let formattedResult;

            // 4. Formatar o resultado conforme as regras solicitadas:
            //    - Sem separador de milhares (useGrouping: false).
            //    - Usa vírgula para decimal (devido ao locale 'pt-BR').
            //    - Sem símbolo de moeda.

            // Verifica se o resultado é um número inteiro (sem centavos)
            if (result % 1 === 0) {
                // Se for inteiro, formata com zero casas decimais
                formattedResult = new Intl.NumberFormat('pt-BR', {
                    style: 'decimal',
                    useGrouping: false, // Desativa o separador de milhares
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                }).format(result);
            } else {
                // Se tiver casas decimais, formata com duas casas decimais
                formattedResult = new Intl.NumberFormat('pt-BR', {
                    style: 'decimal',
                    useGrouping: false, // Desativa o separador de milhares
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                }).format(result);
            }
            
            // 5. Exibir o resultado
            resultDisplay.textContent = formattedResult;
            resultContainer.classList.remove('hidden');
        }
    </script>
</body>
</html>
